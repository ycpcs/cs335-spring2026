#!/usr/bin/env python3
from scapy.all import *

IPpkt  = IP(dst='8.8.8.8')
UDPpkt = UDP(sport=RandShort(), dport=53)

Qdsec    = DNSQR(qname='www.google.com') 
DNSpkt   = DNS(id=111, qr=0, rd=1, qd=Qdsec)
Querypkt = IPpkt/UDPpkt/DNSpkt
Replypkt = sr1(Querypkt)
if Replypkt and DNS in Replypkt:
    Replypkt[DNS].show()
else:
    print("No DNS reply received")